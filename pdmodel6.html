<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>arduivis by cskonopka</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56095763-1', 'auto');
  ga('send', 'pageview');

</script>    
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="http://cskonopka.github.io/arduivis/">arduivis</a></h1>
        <p>a bi-directional communication paradigm for programming languages & microcontrollers</p>
      
        <a href="http://cskonopka.github.io/arduivis/" style="padding-right: 10px;"><strong>Home</strong></a>
        <a href="http://cskonopka.github.io/arduivis/gettingstarted" style="padding-right: 10px;"><strong>Getting Started</strong></a>        
        <a href="http://cskonopka.github.io/arduivis/faq" style="padding-right: 10px;"><strong>FAQ</strong></a>  
        <a href="http://cskonopka.github.io/arduivis/projects" style="padding-right: 10px;"><strong>Projects</strong></a>     

        <ol></ol>          

        <a href="http://cskonopka.github.io/arduivis/maxmodels" style="padding-right: 15px;"><strong>MaxMSP</strong></a>
        <a href="http://cskonopka.github.io/arduivis/pdmodels" style="padding-right: 15px;"><strong>Pure Data</strong></a>
        <a href="https://github.com/cskonopka/arduivis" style="padding-right: 15px;"><strong>Github</strong></a>           
        <h3>
      </header>
      <section>
<!--         <h3>
 -->

<!-- <pre><code>$ cd cskonopka/arduivis
$ git fetch origin
$ git checkout gh-pages
</code></pre>

<p>If you're using the GitHub for Mac, simply sync your repository and you'll see the new branch.</p>
 -->




<!-- <a name="rather-drive-stick" class="anchor" href="#rather-drive-stick"><span class="octicon octicon-link"></span></a>Methodology</h3>

<p>Each model represents a way to interact with an Arduino via a visual programming language. 

Currently there are 6 models that make up arduivis.</p>
  <ul>
    <li>model #1: output</li>
    <li>model #2: input</li>
    <li>model #3: feedback</li>
    <li>model #4: multiple ouputs</li>
    <li>model #5: multiple inputs</li>
    <li>model #6: multiple feedbacks</li>
  </ul> -->
<!-- 
<h3>
<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick"><span class="octicon octicon-link"></span></a>Getting Started</h3>

 -->

 <h3>
<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick"><span class="octicon octicon-link"></span></a>Pure Data Model #6: Multiple Feedbacks</h3>

<p><b>Arduino</b></p>
 <pre><code>/* 

~~~~~~~ arduivis - Pure Data ~~~~~~~
~~~~~ model#6: multiple feedbacks ~~~~~

PD: arduivis_model6_PD_multipleFeedbacks.pd

This is an example of to read sliders from PD. 
An Arduino reads and parses this data, sending
it from the Arduino and back into PD. This 
feedback data is then sent back to the Arduino
from Pure Data, controlling the PWM of a LED. 
This is done with several streams of data in 
this example.

synthesized by Christopher Konopka

This example code is in the public domain.

*/

void setup() 
{
  //  Create/open serial port    
    Serial.begin(9600);       

  // Define LED mode 
  // PWM LED
    pinMode(3, OUTPUT);
    pinMode(5, OUTPUT);  
    pinMode(6, OUTPUT);
    pinMode(9, OUTPUT);  
}

void loop() 
{ 
  // Sliders from Pure Data
    int pdSlider1, pdSlider2, pdSlider3, pdSlider4;

  // Feedback from Pure Data (original output from Arduino)
    int feedbackFromPD1, feedbackFromPD2, feedbackFromPD3, feedbackFromPD4;

  // Parse incoming Pure Data slider values
  // from Pure Data, to Arduino
    pdSlider1 = Serial.parseInt();
    pdSlider2 = Serial.parseInt();
    pdSlider3 = Serial.parseInt();
    pdSlider4 = Serial.parseInt(); 

  // Write parsed slider values to serial buffer
  // [comport] object
  // to Pure Data, from Arduino
    Serial.write(pdSlider1);
    Serial.write(pdSlider2);
    Serial.write(pdSlider3);
    Serial.write(pdSlider4);

  // Parse incoming Pure Data (feedback) values
  // from Pure Data (feedback), to Arduino 
    feedbackFromPD1 = Serial.parseInt();
    feedbackFromPD2 = Serial.parseInt();
    feedbackFromPD3 = Serial.parseInt();
    feedbackFromPD4 = Serial.parseInt(); 

  // Write parsed values to LEDs
  // Fading LED
  // from Pure Data (feedback), to Arduino
    analogWrite(3, feedbackFromPD1);
    analogWrite(5, feedbackFromPD2);
    analogWrite(6, feedbackFromPD3);    
    analogWrite(9, feedbackFromPD4);
  
  // Write feedback values to serial buffer
  // [comport] object
  // to Pure Data, from Arduino
  // This is useful for debugging
    Serial.write(feedbackFromPD1); 
    Serial.write(feedbackFromPD2);   
    Serial.write(feedbackFromPD3); 
    Serial.write(feedbackFromPD4); 
  
  delay(2);
}


</code></pre>

<p><em>PD-Extended</em></p>

       <img src="http://cskonopka.github.io/arduivis/arduivis_PD_model6_multipleFeedbacks_main.png" alt="some_text">       

       <img src="http://cskonopka.github.io/arduivis/arduivis_PD_model6_multipleFeedbacks_sub1.png" alt="some_text">

       <img src="http://cskonopka.github.io/arduivis/arduivis_PD_model6_multipleFeedbacks_sub2.png" alt="some_text">



<!--   <ul>
    <li>Next, open the folder named "model1_output"</li>
      <ul>
        <li> arduivis > MaxMSP > model1_output</li>
        <li> arduivis > PD > model1_output</li>
      </ul>
  </ul>  

  <ul>
    <li>Inside "model1_output" there will be a patch for the VPL and a folder containing the Arduino sketch for this example</li>
      <ul>
        <li>Open the sketch "arduivis_MaxMSP_model1_output.ino" in the Arduino IDE</li>
        <li>Upload the sketch to the Arduino</li>
      </ul>
  </ul>     -->

<!-- 
  <ul>
    <li>For MaxMSP, find the folder model #1</li>
      <ul>
        <li> arduivis > MaxMSP > model1_output</li>
      </ul>
  </ul> -->

      </section>
      <footer>
        <p>Portfolio: <a href="http://christopherkonopka.com/"> christopherkonopka.com</a></p>    
        <p>Website: <a href="http://futuremusictechnology.com/"> future, music, technology</a></p>   
   <!--      <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
 -->      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>